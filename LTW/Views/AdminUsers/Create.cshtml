@model LTW.Models.Users

@{
    ViewBag.Title = "Thêm tài khoản";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h3>Thêm tài khoản</h3>
    <a href="@Url.Action("Index")" class="btn btn-secondary">Quay lại</a>
</div>

@{
    var user = Session["User"] as LTW.Models.Users;
    if (user == null || user.VaiTro != "admin")
    {
        Response.Redirect(Url.Action("Login", "Account"));
    }
}

@if (ViewBag.Error != null)
{
    <div class="alert alert-danger">
        @ViewBag.Error
    </div>
}

@using (Html.BeginForm())
{
    <div class="mb-3">
        <label class="form-label">Tên đăng nhập</label>
        @Html.TextBoxFor(m => m.Username, new { @class = "form-control" })
    </div>

    <div class="mb-3">
        <label class="form-label">Mật khẩu</label>
        @Html.TextBoxFor(m => m.PasswordHash, new { @class = "form-control", type = "password" })
    </div>

    <div class="mb-3">
        <label class="form-label">Họ và tên</label>
        @Html.TextBoxFor(m => m.FullName, new { @class = "form-control" })
    </div>

    <div class="mb-3">
        <label class="form-label">Email</label>
        @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
    </div>

    <div class="mb-3">
        <label class="form-label">Số điện thoại</label>
        @Html.TextBoxFor(m => m.Phone, new { @class = "form-control" })
    </div>

    <div class="mb-3">
        <label class="form-label">Địa chỉ</label>
        @Html.TextBoxFor(m => m.DiaChi, new { @class = "form-control" })
    </div>

    <div class="mb-3">
        <label class="form-label">Vai trò</label>
        <select name="VaiTro" class="form-control">
            @foreach (var r in ViewBag.Roles)
            {
                <option value="@r">@r</option>
            }
        </select>
    </div>

    <button class="btn btn-primary">Tạo tài khoản</button>
}
