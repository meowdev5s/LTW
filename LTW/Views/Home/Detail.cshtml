@model LTW.Models.Products
<div class="row">
    <!-- Ảnh sản phẩm -->
    <div class="col-md-4">
        <div class="product-gallery">
            <div class="main-image-container">
                <img id="mainImage" src="@Url.Content("~/Content/Images/" + Model.ImageURL)" alt="Ảnh Sản phẩm Chính" style="max-width:300px;min-height:300px; border: 1px solid #ccc;">
            </div>
            <div class="thumbnails mt-3">
                @foreach (var item in Model.ProductFiles)
                {
                    <img class="img-thumbnail" src="@Url.Content("~/Content/Images/" + item.FileURL)" data-full-src="@Url.Content("~/Content/Images/" + item.FileURL)" alt="Ảnh 1" style="width: 80px; cursor: pointer;">
                }
            </div>
        </div>
    </div>
    <!-- Thông tin sản phẩm -->
    <div class="col-md-8">
        <h3>@Model.ProductName</h3>
        <h4>Giá thành: <span style="color:red">@Model.Price.ToString("N0") VNĐ</span></h4>
        <h4>số lượng còn lại: <span style="color:red">@Model.Stock</span></h4>
        <p>Mô tả sản phẩm: <span>@Model.Description</span></p>
        <div class="mb-3">
            <a href="@Url.Action("AddToCart","Cart", new { id = Model.ProductID })" class="btn btn-success">Thêm vào giỏ hàng</a>
            <a href="@Url.Action("Index", "Home")" class="btn btn-outline-secondary">Quay lại</a>
        </div>
    </div>
</div>

<!-- Sản phẩm liên quan -->
<div class="mt-5">
    <h5>Sản phẩm liên quan</h5>
    <div class="row">
        @foreach (var item in ViewBag.SanPhamLienQuan)
        {
            <!-- Card 1 -->
            <div class="col-md-3 mb-4">
                <div class="card h-100 shadow-sm">
                    <img src="@Url.Content("~/Content/Images/"+item.ImageURL)" class="card-img-top" alt="@item.ProductName">
                    <div class="card-body text-center">
                        <h6 class="card-title">@item.ProductName</h6>
                        <p class="text-danger fw-bold">@Html.FormatValue(item.Price, "{0:#,###}") VNĐ</p>
                        <a href="@Url.Action("Detail", "Home", new { id = item.ProductID })" class="btn btn-sm btn-outline-primary">Xem chi tiết</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        // Bắt sự kiện click vào tất cả các ảnh có class là 'thumb'
        $(".img-thumbnail").on("click", function () {

            // 1. Lấy đường dẫn ảnh lớn từ thuộc tính data-full-src của ảnh nhỏ được click
            var newImageSrc = $(this).data("full-src");

            // 2. Cập nhật thuộc tính src của ảnh lớn (#mainImage)
            $("#mainImage").attr("src", newImageSrc);

            // (Tùy chọn) Thêm hiệu ứng/class active nếu cần
            $(".img-thumbnail").removeClass("active-thumb");
            $(this).addClass("active-thumb");
        });
    });
</script>